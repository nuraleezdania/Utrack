<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>System Reports - UTrack Admin</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        /* --- Refined Report Specific Styles --- */
        
        /* 1. Report Type Selection Cards */
        .report-type-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }
        .type-card {
            background: white;
            border: 2px solid transparent;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        .type-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .type-card.active {
            border-color: var(--primary-color);
            background-color: #f0f7fb;
        }
        .type-card h3 { margin: 10px 0 5px; color: var(--primary-color); font-size: 1.1rem; }
        .type-card p { font-size: 0.9rem; color: #666; margin: 0; }
        .icon { font-size: 2rem; color: var(--accent-color); }

        /* 2. Filter Section */
        .filter-panel {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            margin-bottom: 30px;
            animation: slideDown 0.3s ease-out;
        }
        .filter-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            align-items: end;
        }

        /* 3. Results Section */
        .results-container { display: none; } /* Hidden by default */
        
        .summary-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .summary-metric {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid var(--success-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .summary-metric h4 { margin: 0 0 5px 0; color: #666; font-size: 0.9rem; text-transform: uppercase; }
        .summary-metric .value { font-size: 2rem; font-weight: bold; color: #333; }

        .chart-placeholder {
            background: white;
            height: 300px;
            margin-bottom: 20px;
            border-radius: 8px;
            border: 1px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-style: italic;
        }

        .export-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        /* Utility Animations */
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
<div class="wrapper">
    <div class="sidebar">
        <h2>Admin Panel</h2>
        <a href="dashboard.html">Dashboard</a>
        <a href="manage_users.html">Manage Users</a>
        <a href="manage_programme.html">Manage Programmes</a>
        <a href="system_settings.html">System Settings</a>
        <a href="system_reports.html" class="active">System Reports</a>
        <a href="../index.html" class="logout-btn">Logout</a>
    </div>

    <div class="main-content">
        <h1>Generate System Reports</h1>
        <p style="color:#666; margin-bottom: 30px;">Select a category below to analyze system data and performance.</p>

        <div class="report-type-grid">
            <div class="type-card" onclick="selectType(this, 'publication')">
                <div class="icon">ðŸ“„</div>
                <h3>Publication Report</h3>
                <p>Status, Volume & Indexing</p>
            </div>
            <div class="type-card" onclick="selectType(this, 'user')">
                <div class="icon">ðŸ‘¥</div>
                <h3>User Activity</h3>
                <p>Registrations & Roles</p>
            </div>
            <div class="type-card" onclick="selectType(this, 'kpi')">
                <div class="icon">ðŸ“ˆ</div>
                <h3>KPI Performance</h3>
                <p>Targets vs. Achievement</p>
            </div>
        </div>

        <div id="filterSection" class="filter-panel" style="display:none;">
            <h3 style="margin-top:0; border-bottom:1px solid #eee; padding-bottom:10px;">Configuration</h3>
            <form onsubmit="event.preventDefault(); generateReport();">
                <div class="filter-grid">
                    
                    <div class="form-group">
                        <label>Timeframe</label>
                        <select class="form-control">
                            <option>Last 30 Days</option>
                            <option>Current Quarter (Q1 2026)</option>
                            <option>Last Year (2025)</option>
                            <option>All Time</option>
                        </select>
                    </div>

                    <div class="form-group" id="secondaryFilter">
                        <label id="filterLabel">Faculty</label>
                        <select class="form-control">
                            <option>All Faculties</option>
                            <option>FOC (Computing)</option>
                            <option>FOM (Management)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn-primary" style="width:100%; height:42px;">
                            Generate Analysis
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <div id="resultsSection" class="results-container">
            <h2 style="border-left: 5px solid var(--primary-color); padding-left: 15px;">Report Results</h2>
            
            <div class="summary-cards">
                <div class="summary-metric">
                    <h4>Total Records</h4>
                    <div class="value">142</div>
                </div>
                <div class="summary-metric" style="border-color: var(--accent-color);">
                    <h4>Pending Review</h4>
                    <div class="value">12</div>
                </div>
                <div class="summary-metric" style="border-color: var(--primary-color);">
                    <h4>Approval Rate</h4>
                    <div class="value">88%</div>
                </div>
            </div>

            <div class="chart-placeholder">
                [ Interactive Bar Chart: Publication Trends by Month ]
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Count</th>
                        <th>Percentage</th>
                        <th>Trend</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Journal Articles (Scopus)</td>
                        <td>85</td>
                        <td>60%</td>
                        <td><span style="color:green;">â–² 5%</span></td>
                    </tr>
                    <tr>
                        <td>Conference Proceedings</td>
                        <td>40</td>
                        <td>28%</td>
                        <td><span style="color:red;">â–¼ 2%</span></td>
                    </tr>
                    <tr>
                        <td>Book Chapters</td>
                        <td>17</td>
                        <td>12%</td>
                        <td><span>-</span></td>
                    </tr>
                </tbody>
            </table>

            <div class="export-actions">
                <button class="btn-secondary" onclick="alert('Exporting data to Excel...')">
                    Export to Excel
                </button>
                <button class="btn-primary" onclick="alert('Generating PDF Report...')">
                    Download PDF
                </button>
            </div>
        </div>

    </div>
</div>

<script>
    function selectType(card, type) {
        // Visual Selection Logic
        document.querySelectorAll('.type-card').forEach(el => el.classList.remove('active'));
        card.classList.add('active');

        // Show Filters
        document.getElementById('filterSection').style.display = 'block';
        document.getElementById('resultsSection').style.display = 'none'; // Hide previous results

        // Dynamic Filter Logic
        const label = document.getElementById('filterLabel');
        if (type === 'user') {
            label.innerText = "User Role";
            // In a real app, you would swap the <select> options here
        } else {
            label.innerText = "Faculty / Department";
        }
    }

    function generateReport() {
        // Simulate Processing
        const btn = document.querySelector('button[type="submit"]');
        const originalText = btn.innerText;
        btn.innerText = "Processing...";
        btn.disabled = true;

        setTimeout(() => {
            btn.innerText = originalText;
            btn.disabled = false;
            // Show Results
            document.getElementById('resultsSection').style.display = 'block';
            // Scroll to results
            document.getElementById('resultsSection').scrollIntoView({behavior: 'smooth'});
        }, 800);
    }
</script>
</body>
</html>